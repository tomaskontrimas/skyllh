

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>skyllh.core.dataset module &mdash; SkyLLH  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="skyllh.core.debugging module" href="skyllh.core.debugging.html" />
    <link rel="prev" title="skyllh.core.coords module" href="skyllh.core.coords.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> SkyLLH
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../analysis/index.html">Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hypothesis/index.html">Hypothesis Definition</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unit_tests.html">Unit tests</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="skyllh.html">skyllh package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="skyllh.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="skyllh.cluster.html">skyllh.cluster package</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="skyllh.core.html">skyllh.core package</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="skyllh.core.html#subpackages">Subpackages</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="skyllh.core.html#submodules">Submodules</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.i3.html">skyllh.i3 package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.physics.html">skyllh.physics package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.plotting.html">skyllh.plotting package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.utils.html">skyllh.utils package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../notes.html">Notes</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev_docs/logging.html">Logging</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SkyLLH</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="skyllh.html">skyllh package</a> &raquo;</li>
        
          <li><a href="skyllh.core.html">skyllh.core package</a> &raquo;</li>
        
      <li>skyllh.core.dataset module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/reference/skyllh.core.dataset.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="module-skyllh.core.dataset">
<span id="skyllh-core-dataset-module"></span><h1>skyllh.core.dataset module<a class="headerlink" href="#module-skyllh.core.dataset" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="skyllh.core.dataset.Dataset">
<em class="property">class </em><code class="sig-prename descclassname">skyllh.core.dataset.</code><code class="sig-name descname">Dataset</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">exp_pathfilenames</span></em>, <em class="sig-param"><span class="n">mc_pathfilenames</span></em>, <em class="sig-param"><span class="n">livetime</span></em>, <em class="sig-param"><span class="n">default_sub_path_fmt</span></em>, <em class="sig-param"><span class="n">version</span></em>, <em class="sig-param"><span class="n">verqualifiers</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">base_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">sub_path_fmt</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The Dataset class describes a set of self-consistent experimental and
simulated detector data. Usually this is for a certain time period, i.e.
a season.</p>
<p>Independet data sets of the same kind, e.g. event selection, can be joined
through a DatasetCollection object.</p>
<p>Creates a new dataset object that describes a self-consistent set of
data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name of the dataset.</p></li>
<li><p><strong>exp_pathfilenames</strong> (<em>str | sequence of str | None</em>) – The file name(s), including paths, of the experimental data file(s).
This can be None, if a MC-only study is performed.</p></li>
<li><p><strong>mc_pathfilenames</strong> (<em>str | sequence of str</em>) – The file name(s), including paths, of the monte-carlo data file(s).</p></li>
<li><p><strong>livetime</strong> (<em>float | None</em>) – The integrated live-time in days of the dataset. It can be None for
cases where the live-time is retrieved directly from the data files
uppon data loading.</p></li>
<li><p><strong>default_sub_path_fmt</strong> (<em>str</em>) – The default format of the sub path of the data set.
This must be a string that can be formatted via the <code class="docutils literal notranslate"><span class="pre">format</span></code>
method of the <code class="docutils literal notranslate"><span class="pre">str</span></code> class.</p></li>
<li><p><strong>version</strong> (<em>int</em>) – The version number of the dataset. Higher version numbers indicate
newer datasets.</p></li>
<li><p><strong>verqualifiers</strong> (<em>dict | None</em>) – If specified, this dictionary specifies version qualifiers. These
can be interpreted as subversions of the dataset. The format of the
dictionary must be ‘qualifier (str): version (int)’.</p></li>
<li><p><strong>base_path</strong> (<em>str | None</em>) – The user-defined base path of the data set.
Usually, this is the path of the location of the data directory.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code> the configured repository base path
<code class="docutils literal notranslate"><span class="pre">CFG['repository']['base_path']</span></code> is used.</p></li>
<li><p><strong>sub_path_fmt</strong> (<em>str | None</em>) – The user-defined format of the sub path of the data set.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the <code class="docutils literal notranslate"><span class="pre">default_sub_path_fmt</span></code> will be used.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.get_combined_exp_pathfilenames">
<em class="property">static </em><code class="sig-name descname">get_combined_exp_pathfilenames</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">datasets</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.get_combined_exp_pathfilenames" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the combined list of exp pathfilenames of all the given
datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>sequence of Dataset</em>) – The sequence of Dataset instances.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>exp_pathfilenames</strong> (<em>list</em>) – The combined list of exp pathfilenames.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.get_combined_mc_pathfilenames">
<em class="property">static </em><code class="sig-name descname">get_combined_mc_pathfilenames</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">datasets</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.get_combined_mc_pathfilenames" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the combined list of mc pathfilenames of all the given
datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>sequence of Dataset</em>) – The sequence of Dataset instances.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>mc_pathfilenames</strong> (<em>list</em>) – The combined list of mc pathfilenames.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.get_combined_livetime">
<em class="property">static </em><code class="sig-name descname">get_combined_livetime</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">datasets</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.get_combined_livetime" title="Permalink to this definition">¶</a></dt>
<dd><p>Sums the live-time of all the given datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>sequence of Dataset</em>) – The sequence of Dataset instances.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>livetime</strong> (<em>float</em>) – The sum of all the individual live-times.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.name">
<em class="property">property </em><code class="sig-name descname">name</code><a class="headerlink" href="#skyllh.core.dataset.Dataset.name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the dataset. This must be an unique identifier among
all the different datasets.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.description">
<em class="property">property </em><code class="sig-name descname">description</code><a class="headerlink" href="#skyllh.core.dataset.Dataset.description" title="Permalink to this definition">¶</a></dt>
<dd><p>The (longer) description of the dataset.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.exp_pathfilename_list">
<em class="property">property </em><code class="sig-name descname">exp_pathfilename_list</code><a class="headerlink" href="#skyllh.core.dataset.Dataset.exp_pathfilename_list" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of file names of the data files that store the experimental
data for this dataset.
If a file name is given with a relative path, it will be relative to the
root_dir property of this Dataset instance.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.exp_abs_pathfilename_list">
<em class="property">property </em><code class="sig-name descname">exp_abs_pathfilename_list</code><a class="headerlink" href="#skyllh.core.dataset.Dataset.exp_abs_pathfilename_list" title="Permalink to this definition">¶</a></dt>
<dd><p>(read-only) The list of absolute path file names of the experimental
data files.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.mc_pathfilename_list">
<em class="property">property </em><code class="sig-name descname">mc_pathfilename_list</code><a class="headerlink" href="#skyllh.core.dataset.Dataset.mc_pathfilename_list" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of file names of the data files that store the monte-carlo
data for this dataset.
If a file name is given with a relative path, it will be relative to the
root_dir property of this Dataset instance.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.mc_abs_pathfilename_list">
<em class="property">property </em><code class="sig-name descname">mc_abs_pathfilename_list</code><a class="headerlink" href="#skyllh.core.dataset.Dataset.mc_abs_pathfilename_list" title="Permalink to this definition">¶</a></dt>
<dd><p>(read-only) The list of absolute path file names of the monte-carlo
data files.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.livetime">
<em class="property">property </em><code class="sig-name descname">livetime</code><a class="headerlink" href="#skyllh.core.dataset.Dataset.livetime" title="Permalink to this definition">¶</a></dt>
<dd><p>The integrated live-time in days of the dataset. This can be None in
cases where the livetime is retrieved directly from the data files.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.version">
<em class="property">property </em><code class="sig-name descname">version</code><a class="headerlink" href="#skyllh.core.dataset.Dataset.version" title="Permalink to this definition">¶</a></dt>
<dd><p>The main version (int) of the dataset.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.verqualifiers">
<em class="property">property </em><code class="sig-name descname">verqualifiers</code><a class="headerlink" href="#skyllh.core.dataset.Dataset.verqualifiers" title="Permalink to this definition">¶</a></dt>
<dd><p>The dictionary holding the version qualifiers, i.e. sub-version
qualifiers. If set to None, an empty dictionary will be used.
The dictionary must have the type form of str:int.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.base_path">
<em class="property">property </em><code class="sig-name descname">base_path</code><a class="headerlink" href="#skyllh.core.dataset.Dataset.base_path" title="Permalink to this definition">¶</a></dt>
<dd><p>The base path of the data set. This can be <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.default_sub_path_fmt">
<em class="property">property </em><code class="sig-name descname">default_sub_path_fmt</code><a class="headerlink" href="#skyllh.core.dataset.Dataset.default_sub_path_fmt" title="Permalink to this definition">¶</a></dt>
<dd><p>The default format of the sub path of the data set. This must be a
string that can be formatted via the <code class="docutils literal notranslate"><span class="pre">format</span></code> method of the <code class="docutils literal notranslate"><span class="pre">str</span></code>
class.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.sub_path_fmt">
<em class="property">property </em><code class="sig-name descname">sub_path_fmt</code><a class="headerlink" href="#skyllh.core.dataset.Dataset.sub_path_fmt" title="Permalink to this definition">¶</a></dt>
<dd><p>The format of the sub path of the data set. This must be a string
that can be formatted via the <code class="docutils literal notranslate"><span class="pre">format</span></code> method of the <code class="docutils literal notranslate"><span class="pre">str</span></code> class.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, this property will return the
<code class="docutils literal notranslate"><span class="pre">default_sub_path_fmt</span></code> property.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.root_dir">
<em class="property">property </em><code class="sig-name descname">root_dir</code><a class="headerlink" href="#skyllh.core.dataset.Dataset.root_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>(read-only) The root directory to use when data files are specified
with relative paths. It is constructed from the <code class="docutils literal notranslate"><span class="pre">base_path</span></code> and the
<code class="docutils literal notranslate"><span class="pre">sub_path_fmt</span></code> properties via the <code class="docutils literal notranslate"><span class="pre">generate_data_file_root_dir</span></code>
function.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.loading_extra_exp_field_name_list">
<em class="property">property </em><code class="sig-name descname">loading_extra_exp_field_name_list</code><a class="headerlink" href="#skyllh.core.dataset.Dataset.loading_extra_exp_field_name_list" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of extra field names that should get loaded when loading
experimental data. These should only be field names that are required
during the data preparation of this specific data set.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.loading_extra_mc_field_name_list">
<em class="property">property </em><code class="sig-name descname">loading_extra_mc_field_name_list</code><a class="headerlink" href="#skyllh.core.dataset.Dataset.loading_extra_mc_field_name_list" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of extra field names that should get loaded when loading
monte-carlo data. These should only be field names that are required
during the data preparation of this specific data set.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.exp_field_name_renaming_dict">
<em class="property">property </em><code class="sig-name descname">exp_field_name_renaming_dict</code><a class="headerlink" href="#skyllh.core.dataset.Dataset.exp_field_name_renaming_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>The dictionary specifying the field names of the experimental data
which need to get renamed just after loading the data. The dictionary
values are the new names.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.mc_field_name_renaming_dict">
<em class="property">property </em><code class="sig-name descname">mc_field_name_renaming_dict</code><a class="headerlink" href="#skyllh.core.dataset.Dataset.mc_field_name_renaming_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>The dictionary specifying the field names of the monte-carlo data
which need to get renamed just after loading the data. The dictionary
values are the new names.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.exists">
<em class="property">property </em><code class="sig-name descname">exists</code><a class="headerlink" href="#skyllh.core.dataset.Dataset.exists" title="Permalink to this definition">¶</a></dt>
<dd><p>(read-only) Flag if all the data files of this data set exists. It is
<code class="docutils literal notranslate"><span class="pre">True</span></code> if all data files exist and <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.version_str">
<em class="property">property </em><code class="sig-name descname">version_str</code><a class="headerlink" href="#skyllh.core.dataset.Dataset.version_str" title="Permalink to this definition">¶</a></dt>
<dd><p>The version string of the dataset. This combines all the version
information about the dataset.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.data_preparation_functions">
<em class="property">property </em><code class="sig-name descname">data_preparation_functions</code><a class="headerlink" href="#skyllh.core.dataset.Dataset.data_preparation_functions" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of callback functions that will be called to prepare the
data (experimental and monte-carlo).</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.get_abs_pathfilename_list">
<code class="sig-name descname">get_abs_pathfilename_list</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pathfilename_list</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.get_abs_pathfilename_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list where each entry of the given pathfilename_list is
an absolute path. Relative paths will be prefixed with the root_dir
property of this Dataset instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pathfilename_list</strong> (<em>sequence of str</em>) – The sequence of file names, either with relative, or absolute paths.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>abs_pathfilename_list</strong> (<em>list of str</em>) – The list of file names with absolute paths.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.update_version_qualifiers">
<code class="sig-name descname">update_version_qualifiers</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verqualifiers</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.update_version_qualifiers" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the version qualifiers of the dataset. The update can only
be done by increasing the version qualifier integer or by adding new
version qualifiers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>verqualifiers</strong> (<em>dict</em>) – The dictionary with the new version qualifiers.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the integer number of an existing version qualifier is not larger
    than the old one.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.load_data">
<code class="sig-name descname">load_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">keep_fields</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">livetime</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dtc_dict</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dtc_except_fields</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">efficiency_mode</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tl</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.load_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the data, which is described by the dataset.</p>
<dl class="simple">
<dt>Note: This does not call the <code class="docutils literal notranslate"><span class="pre">prepare_data</span></code> method! It only loads</dt><dd><p>the data as the method names says.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keep_fields</strong> (<em>list of str | None</em>) – The list of user-defined data fields that should get loaded and kept
in addition to the analysis required data fields.</p></li>
<li><p><strong>livetime</strong> (<em>float | None</em>) – If not None, uses this livetime (in days) for the DatasetData
instance, otherwise uses the Dataset livetime property value for
the DatasetData instance.</p></li>
<li><p><strong>dtc_dict</strong> (<em>dict | None</em>) – This dictionary defines how data fields of specific
data types should get converted into other data types.
This can be used to use less memory. If set to None, no data
convertion is performed.</p></li>
<li><p><strong>dtc_except_fields</strong> (<em>str | sequence of str | None</em>) – The sequence of field names whose data type should not get
converted.</p></li>
<li><p><strong>efficiency_mode</strong> (<em>str | None</em>) – <p>The efficiency mode the data should get loaded with. Possible values
are:</p>
<blockquote>
<div><ul>
<li><dl class="simple">
<dt>’memory’:</dt><dd><p>The data will be load in a memory efficient way. This will
require more time, because all data records of a file will
be loaded sequentially.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>’time’</dt><dd><p>The data will be loaded in a time efficient way. This will
require more memory, because each data file gets loaded in
memory at once.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>The default value is <code class="docutils literal notranslate"><span class="pre">'time'</span></code>. If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the default
value will be used.</p>
</p></li>
<li><p><strong>tl</strong> (<em>TimeLord instance | None</em>) – The TimeLord instance to use to time the data loading procedure.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>data</strong> (<em>DatasetData</em>) – A DatasetData instance holding the experimental and monte-carlo
data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.load_aux_data">
<code class="sig-name descname">load_aux_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">tl</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.load_aux_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the auxiliary data for the given auxiliary data definition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name of the auxiliary data.</p></li>
<li><p><strong>tl</strong> (<em>TimeLord instance | None</em>) – The TimeLord instance to use to time the data loading procedure.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>data</strong> (<em>unspecified</em>) – The loaded auxiliary data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.add_data_preparation">
<code class="sig-name descname">add_data_preparation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">func</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.add_data_preparation" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the given data preparation function to the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func</strong> (<em>callable</em>) – The object with call signature __call__(data) that will prepare
the data after it was loaded. The argument ‘data’ is a DatasetData
instance holding the experimental and monte-carlo data. The function
must alter the properties of the DatasetData instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.remove_data_preparation">
<code class="sig-name descname">remove_data_preparation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span><span class="o">=</span><span class="default_value">- 1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.remove_data_preparation" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a data preparation function from the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>key</strong> (<em>str</em><em>, </em><em>int</em><em>, </em><em>optional</em>) – The name or the index of the data preparation function that should
be removed. Default value is <code class="docutils literal notranslate"><span class="pre">-1</span></code>, i.e. the last added function.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – If the type of the key argument is invalid.</p></li>
<li><p><strong>IndexError</strong> – If the given key is out of range.</p></li>
<li><p><strong>KeyError</strong> – If the data preparation function cannot be found.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.prepare_data">
<code class="sig-name descname">prepare_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">tl</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.prepare_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepares the data by calling the data preparation callback functions
of this dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DatasetData instance</em>) – The DatasetData instance holding the data.</p></li>
<li><p><strong>tl</strong> (<em>TimeLord instance | None</em>) – The TimeLord instance that should be used to time the data
preparation.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.load_and_prepare_data">
<code class="sig-name descname">load_and_prepare_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">livetime</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">keep_fields</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">compress</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">efficiency_mode</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tl</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.load_and_prepare_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads and prepares the experimental and monte-carlo data of this
dataset by calling its <code class="docutils literal notranslate"><span class="pre">load_data</span></code> and <code class="docutils literal notranslate"><span class="pre">prepare_data</span></code> methods.
After loading the data it drops all unnecessary data fields if they are
not listed in <code class="docutils literal notranslate"><span class="pre">keep_fields</span></code>.
In the end it asserts the data format of the experimental and
monte-carlo data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>livetime</strong> (<em>float | None</em>) – The user-defined livetime in days of the data set. If not set to
None, livetime information from the data set will get ignored and
this value of the livetime will be used.</p></li>
<li><p><strong>keep_fields</strong> (<em>sequence of str | None</em>) – The list of additional data fields that should get kept.
By default only the required data fields are kept.</p></li>
<li><p><strong>compress</strong> (<em>bool</em>) – Flag if the float64 data fields of the data should get converted,
i.e. compressed, into float32 data fields, in order to save main
memory.
The only field, which will not get converted is the ‘mcweight’
field, in order to ensure reliable calculations.
Default is False.</p></li>
<li><p><strong>efficiency_mode</strong> (<em>str | None</em>) – <p>The efficiency mode the data should get loaded with. Possible values
are:</p>
<blockquote>
<div><ul>
<li><dl class="simple">
<dt>’memory’:</dt><dd><p>The data will be load in a memory efficient way. This will
require more time, because all data records of a file will
be loaded sequentially.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>’time’</dt><dd><p>The data will be loaded in a time efficient way. This will
require more memory, because each data file gets loaded in
memory at once.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>The default value is <code class="docutils literal notranslate"><span class="pre">'time'</span></code>. If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the default
value will be used.</p>
</p></li>
<li><p><strong>tl</strong> (<em>TimeLord instance | None</em>) – The TimeLord instance that should be used to time the data loading
and preparation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>data</strong> (<em>DatasetData</em>) – The DatasetData instance holding the experimental and monte-carlo
data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.add_binning_definition">
<code class="sig-name descname">add_binning_definition</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">binning</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.add_binning_definition" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a binning setting to this dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>binning</strong> (<a class="reference internal" href="skyllh.core.binning.html#skyllh.core.binning.BinningDefinition" title="skyllh.core.binning.BinningDefinition"><em>BinningDefinition</em></a>) – The BinningDefinition object holding the binning information.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.get_binning_definition">
<code class="sig-name descname">get_binning_definition</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.get_binning_definition" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the BinningDefinition object for the given binning name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name of the binning definition.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>binning_definition</strong> (<em>BinningDefinition instance</em>) – The requested BinningDefinition instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.has_binning_definition">
<code class="sig-name descname">has_binning_definition</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.has_binning_definition" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if the dataset has a defined binning definition with the given
name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name of the binning definition.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>check</strong> (<em>bool</em>) – True if the binning definition exists, False otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.define_binning">
<code class="sig-name descname">define_binning</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">binedges</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.define_binning" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines a binning for <code class="docutils literal notranslate"><span class="pre">name</span></code>, and adds it as binning definition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name of the binning setting.</p></li>
<li><p><strong>binedges</strong> (<em>sequence</em>) – The sequence of the bin edges, which should be used for this binning
definition.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>binning</strong> (<em>BinningDefinition</em>) – The BinningDefinition object which was created and added to this
season.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.replace_binning_definition">
<code class="sig-name descname">replace_binning_definition</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">binning</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.replace_binning_definition" title="Permalink to this definition">¶</a></dt>
<dd><p>Replaces an already defined binning definition of this dataset by
the given binning definition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>binning</strong> (<em>BinningDefinition instance</em>) – The instance of BinningDefinition that will replace the data set’s
BinningDefinition instance of the same name.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.add_aux_data_definition">
<code class="sig-name descname">add_aux_data_definition</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">pathfilenames</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.add_aux_data_definition" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the given data files as auxiliary data definition to the
dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name of the auxiliary data. The name is used as identifier for
the data within SkyLLH.</p></li>
<li><p><strong>pathfilenames</strong> (<em>str | sequence of str</em>) – The file name(s) (including paths) of the data file(s).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.get_aux_data_definition">
<code class="sig-name descname">get_aux_data_definition</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.get_aux_data_definition" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the auxiliary data definition from the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name of the auxiliary data.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>KeyError</strong> – If auxiliary data with the given name does not exist.</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p><strong>aux_data_definition</strong> (<em>list of str</em>) –</p>
<dl class="simple">
<dt>The locations (pathfilenames) of the files defined in the auxiliary data</dt><dd><p>as auxiliary data definition.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.add_aux_data">
<code class="sig-name descname">add_aux_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">data</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.add_aux_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the given data as auxiliary data to this data set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name under which the auxiliary data will be stored.</p></li>
<li><p><strong>data</strong> (<em>unspecified</em>) – The data that should get stored. This can be of any data type.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>KeyError</strong> – If auxiliary data is already stored under the given name.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.Dataset.get_aux_data">
<code class="sig-name descname">get_aux_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.get_aux_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the auxiliary data that is stored in this data set under
the given name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name under which the auxiliary data is stored.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>data</strong> (<em>unspecified</em>) – The retrieved auxiliary data.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>KeyError</strong> – If no auxiliary data is stored with the given name.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="skyllh.core.dataset.DatasetCollection">
<em class="property">class </em><code class="sig-prename descclassname">skyllh.core.dataset.</code><code class="sig-name descname">DatasetCollection</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">description</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The DatasetCollection class describes a collection of different datasets.</p>
<p>New datasets can be added via the add-assign operator (+=), which calls
the <code class="docutils literal notranslate"><span class="pre">add_datasets</span></code> method.</p>
<p>Creates a new DatasetCollection instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name of the collection.</p></li>
<li><p><strong>description</strong> (<em>str</em>) – The (longer) description of the dataset collection.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="skyllh.core.dataset.DatasetCollection.name">
<em class="property">property </em><code class="sig-name descname">name</code><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name (str) of the dataset collection.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.DatasetCollection.description">
<em class="property">property </em><code class="sig-name descname">description</code><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.description" title="Permalink to this definition">¶</a></dt>
<dd><p>The (longer) description of the dataset collection.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.DatasetCollection.dataset_names">
<em class="property">property </em><code class="sig-name descname">dataset_names</code><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.dataset_names" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of names of the assigned datasets.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.DatasetCollection.version">
<em class="property">property </em><code class="sig-name descname">version</code><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.version" title="Permalink to this definition">¶</a></dt>
<dd><p>(read-only) The version number of the datasets collected by this
dataset collection.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.DatasetCollection.verqualifiers">
<em class="property">property </em><code class="sig-name descname">verqualifiers</code><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.verqualifiers" title="Permalink to this definition">¶</a></dt>
<dd><p>(read-only) The dictionary holding the version qualifiers of the
datasets collected by this dataset collection.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.DatasetCollection.add_datasets">
<code class="sig-name descname">add_datasets</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">datasets</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.add_datasets" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the given Dataset object(s) to this dataset collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>Dataset | sequence of Dataset</em>) – The Dataset object or the sequence of Dataset objects that should be
added to the dataset collection.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> (<em>DatasetCollection</em>) – This DatasetCollection object in order to be able to chain several
add_dataset calls.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.DatasetCollection.remove_dataset">
<code class="sig-name descname">remove_dataset</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.remove_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes the given dataset from the collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name of the dataset that should get removed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.DatasetCollection.get_dataset">
<code class="sig-name descname">get_dataset</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.get_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a Dataset object from this dataset collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name of the dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>dataset</strong> (<em>Dataset instance</em>) – The Dataset object holding all the information about the dataset.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>KeyError</strong> – If the data set of the given name is not present in this data set
    collection.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.DatasetCollection.get_datasets">
<code class="sig-name descname">get_datasets</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">names</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.get_datasets" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a list of Dataset objects from this dataset collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>names</strong> (<em>str | sequence of str</em>) – The name or sequence of names of the datasets to retrieve.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>datasets</strong> (<em>list of Dataset instances</em>) – The list of Dataset instances for the given list of data set names.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>KeyError</strong> – If one of the requested data sets is not present in this data set
    collection.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.DatasetCollection.set_exp_field_name_renaming_dict">
<code class="sig-name descname">set_exp_field_name_renaming_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.set_exp_field_name_renaming_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the dictionary with the data field names of the experimental
data that needs to be renamed just after loading the data. The
dictionary will be set to all added data sets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>d</strong> (<em>dict</em>) – The dictionary with the old field names as keys and the new field
names as values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.DatasetCollection.set_mc_field_name_renaming_dict">
<code class="sig-name descname">set_mc_field_name_renaming_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.set_mc_field_name_renaming_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the dictionary with the data field names of the monte-carlo
data that needs to be renamed just after loading the data. The
dictionary will be set to all added data sets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>d</strong> (<em>dict</em>) – The dictionary with the old field names as keys and the new field
names as values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.DatasetCollection.set_dataset_prop">
<code class="sig-name descname">set_dataset_prop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.set_dataset_prop" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the given property to the given name for all data sets of this
data set collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name of the property.</p></li>
<li><p><strong>value</strong> (<em>object</em>) – The value to set for the given property.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>KeyError</strong> – If the given property does not exist in the data sets.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.DatasetCollection.define_binning">
<code class="sig-name descname">define_binning</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">binedges</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.define_binning" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines a binning definition and adds it to all the datasets of this
dataset collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name of the binning definition.</p></li>
<li><p><strong>binedges</strong> (<em>sequence</em>) – The sequence of the bin edges, that should be used for the binning.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.DatasetCollection.add_data_preparation">
<code class="sig-name descname">add_data_preparation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">func</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.add_data_preparation" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the data preparation function to all the datasets of this
dataset collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func</strong> (<em>callable</em>) – The object with call signature __call__(data) that will prepare
the data after it was loaded. The argument ‘data’ is the DatasetData
instance holding the experimental and monte-carlo data.
This function must alter the properties of the DatasetData instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.DatasetCollection.remove_data_preparation">
<code class="sig-name descname">remove_data_preparation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">index</span><span class="o">=</span><span class="default_value">- 1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.remove_data_preparation" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes data preparation function from all the datasets of this
dataset collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>index</strong> (<em>int</em><em>, </em><em>optional</em>) – Index of which data preparation function to remove. Default value
is the last added function.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.DatasetCollection.update_version_qualifiers">
<code class="sig-name descname">update_version_qualifiers</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verqualifiers</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.update_version_qualifiers" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the version qualifiers of all datasets of this dataset
collection.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.DatasetCollection.load_data">
<code class="sig-name descname">load_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">livetime</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tl</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ppbar</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.load_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the data of all data sets of this data set collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>livetime</strong> (<em>float | dict of str =&gt; float | None</em>) – If not None, uses this livetime (in days) as livetime for (all) the
DatasetData instances, otherwise uses the live time from the Dataset
instance. If a dictionary of data set names and floats is given, it
defines the livetime for the individual data sets.</p></li>
<li><p><strong>tl</strong> (<em>TimeLord instance | None</em>) – The TimeLord instance that should be used to time the data load
operation.</p></li>
<li><p><strong>ppbar</strong> (<em>instance of ProgressBar | None</em>) – The optional parent progress bar.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>data_dict</strong> (<em>dictionary str =&gt; instance of DatasetData</em>) – The dictionary with the DatasetData instance holding the data of
an individual data set as value and the data set’s name as key.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="skyllh.core.dataset.DatasetData">
<em class="property">class </em><code class="sig-prename descclassname">skyllh.core.dataset.</code><code class="sig-name descname">DatasetData</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data_exp</span></em>, <em class="sig-param"><span class="n">data_mc</span></em>, <em class="sig-param"><span class="n">livetime</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.DatasetData" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class provides the container for the actual experimental and
monto-carlo data. It also holds a reference to the Dataset instance, which
holds the data’s meta information.</p>
<p>Creates a new DatasetData instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_exp</strong> (<em>instance of DataFieldRecordArray | None</em>) – The instance of DataFieldRecordArray holding the experimental data.
This can be None for a MC-only study.</p></li>
<li><p><strong>data_mc</strong> (<em>instance of DataFieldRecordArray</em>) – The instance of DataFieldRecordArray holding the monto-carlo data.</p></li>
<li><p><strong>livetime</strong> (<em>float</em>) – The integrated livetime in days of the data.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="skyllh.core.dataset.DatasetData.exp">
<em class="property">property </em><code class="sig-name descname">exp</code><a class="headerlink" href="#skyllh.core.dataset.DatasetData.exp" title="Permalink to this definition">¶</a></dt>
<dd><p>The DataFieldRecordArray instance holding the experimental data.
This is None, if there is no experimental data available.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.DatasetData.mc">
<em class="property">property </em><code class="sig-name descname">mc</code><a class="headerlink" href="#skyllh.core.dataset.DatasetData.mc" title="Permalink to this definition">¶</a></dt>
<dd><p>The DataFieldRecordArray instance holding the monte-carlo data.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.DatasetData.livetime">
<em class="property">property </em><code class="sig-name descname">livetime</code><a class="headerlink" href="#skyllh.core.dataset.DatasetData.livetime" title="Permalink to this definition">¶</a></dt>
<dd><p>The integrated livetime in days of the data.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.DatasetData.exp_field_names">
<em class="property">property </em><code class="sig-name descname">exp_field_names</code><a class="headerlink" href="#skyllh.core.dataset.DatasetData.exp_field_names" title="Permalink to this definition">¶</a></dt>
<dd><p>(read-only) The list of field names present in the experimental data.
This is an empty list if there is no experimental data available.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.dataset.DatasetData.mc_field_names">
<em class="property">property </em><code class="sig-name descname">mc_field_names</code><a class="headerlink" href="#skyllh.core.dataset.DatasetData.mc_field_names" title="Permalink to this definition">¶</a></dt>
<dd><p>(read-only) The list of field names present in the monte-carlo data.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="skyllh.core.dataset.assert_data_format">
<code class="sig-prename descclassname">skyllh.core.dataset.</code><code class="sig-name descname">assert_data_format</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dataset</span></em>, <em class="sig-param"><span class="n">data</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.assert_data_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks the format of the experimental and monte-carlo data.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>KeyError</strong> – If a required data field is missing.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="skyllh.core.dataset.remove_events">
<code class="sig-prename descclassname">skyllh.core.dataset.</code><code class="sig-name descname">remove_events</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data_exp</span></em>, <em class="sig-param"><span class="n">mjds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.remove_events" title="Permalink to this definition">¶</a></dt>
<dd><p>Utility function to remove events having the specified MJD time stamps.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_exp</strong> (<em>numpy record ndarray</em>) – The numpy record ndarray holding the experimental data events.</p></li>
<li><p><strong>mjds</strong> (<em>float | array of floats</em>) – The MJD time stamps of the events, that should get removed from the
experimental data array.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>data_exp</strong> (<em>numpy record ndarray</em>) – The array holding the experimental data events with the specified events
removed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="skyllh.core.dataset.generate_data_file_root_dir">
<code class="sig-prename descclassname">skyllh.core.dataset.</code><code class="sig-name descname">generate_data_file_root_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">default_base_path</span></em>, <em class="sig-param"><span class="n">default_sub_path_fmt</span></em>, <em class="sig-param"><span class="n">version</span></em>, <em class="sig-param"><span class="n">verqualifiers</span></em>, <em class="sig-param"><span class="n">base_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">sub_path_fmt</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.generate_data_file_root_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the root directory of the data files based on the given base
path and sub path format. If base_path is None, default_base_path is used.
If sub_path_fmt is None, default_sub_path_fmt is used.</p>
<p>The default_sub_path_fmt and sub_path_fmt arguments can contain the
following wildcards:</p>
<blockquote>
<div><ul class="simple">
<li><p>‘{version:d}’</p></li>
<li><p>‘{&lt;verqualifiers_key&gt;:d}’</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>default_base_path</strong> (<em>str</em>) – The default base path if base_path is None.</p></li>
<li><p><strong>default_sub_path_fmt</strong> (<em>str</em>) – The default sub path format if sub_path_fmt is None.</p></li>
<li><p><strong>version</strong> (<em>int</em>) – The version of the data sample.</p></li>
<li><p><strong>verqualifiers</strong> (<em>dict</em>) – The dictionary holding the version qualifiers of the data sample.</p></li>
<li><p><strong>base_path</strong> (<em>str | None</em>) – The user-specified base path.</p></li>
<li><p><strong>sub_path_fmt</strong> (<em>str | None</em>) – The user-specified sub path format.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>root_dir</strong> (<em>str</em>) – The generated root directory of the data files.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="skyllh.core.dataset.get_data_subset">
<code class="sig-prename descclassname">skyllh.core.dataset.</code><code class="sig-name descname">get_data_subset</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">livetime</span></em>, <em class="sig-param"><span class="n">t_start</span></em>, <em class="sig-param"><span class="n">t_end</span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.get_data_subset" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets DatasetData and Livetime objects with data subsets between the given
time range from t_start to t_end.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference internal" href="#skyllh.core.dataset.DatasetData" title="skyllh.core.dataset.DatasetData"><em>DatasetData</em></a>) – The DatasetData object.</p></li>
<li><p><strong>livetime</strong> (<a class="reference internal" href="skyllh.core.livetime.html#skyllh.core.livetime.Livetime" title="skyllh.core.livetime.Livetime"><em>Livetime</em></a>) – The Livetime object.</p></li>
<li><p><strong>t_start</strong> (<em>float</em>) – The MJD start time of the time range to consider.</p></li>
<li><p><strong>t_end</strong> (<em>float</em>) – The MJD end time of the time range to consider.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>dataset_data_subset</strong> (<em>DatasetData</em>) – DatasetData object with subset of the data between the given time range
from t_start to t_end.</p></li>
<li><p><strong>livetime_subset</strong> (<em>Livetime</em>) – Livetime object with subset of the data between the given time range
from t_start to t_end.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="skyllh.core.debugging.html" class="btn btn-neutral float-right" title="skyllh.core.debugging module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="skyllh.core.coords.html" class="btn btn-neutral float-left" title="skyllh.core.coords module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, The IceCube Collaboration, T. Kontrimas, M. Wolf.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>