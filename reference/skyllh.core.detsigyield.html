

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>skyllh.core.detsigyield module &mdash; SkyLLH  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="skyllh.core.display module" href="skyllh.core.display.html" />
    <link rel="prev" title="skyllh.core.debugging module" href="skyllh.core.debugging.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> SkyLLH
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../analysis/index.html">Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hypothesis/index.html">Hypothesis Definition</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unit_tests.html">Unit tests</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="skyllh.html">skyllh package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="skyllh.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="skyllh.cluster.html">skyllh.cluster package</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="skyllh.core.html">skyllh.core package</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="skyllh.core.html#subpackages">Subpackages</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="skyllh.core.html#submodules">Submodules</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.i3.html">skyllh.i3 package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.physics.html">skyllh.physics package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.plotting.html">skyllh.plotting package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.utils.html">skyllh.utils package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../notes.html">Notes</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev_docs/logging.html">Logging</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SkyLLH</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="skyllh.html">skyllh package</a> &raquo;</li>
        
          <li><a href="skyllh.core.html">skyllh.core package</a> &raquo;</li>
        
      <li>skyllh.core.detsigyield module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/reference/skyllh.core.detsigyield.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="module-skyllh.core.detsigyield">
<span id="skyllh-core-detsigyield-module"></span><h1>skyllh.core.detsigyield module<a class="headerlink" href="#module-skyllh.core.detsigyield" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt id="skyllh.core.detsigyield.get_integrated_livetime_in_days">
<code class="sig-prename descclassname"><span class="pre">skyllh.core.detsigyield.</span></code><code class="sig-name descname"><span class="pre">get_integrated_livetime_in_days</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">livetime</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.detsigyield.get_integrated_livetime_in_days" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the integrated live-time in days from the given livetime argument.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>livetime</strong> (<em>float | Livetime instance</em>) – The live-time in days as float, or an instance of Livetime.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>livetime_days</strong> (<em>float</em>) – The integrated live-time in days.</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="skyllh.core.detsigyield.DetSigYield">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">skyllh.core.detsigyield.</span></code><code class="sig-name descname"><span class="pre">DetSigYield</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">implmethod</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fluxmodel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">livetime</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.detsigyield.DetSigYield" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This is the abstract base class for a detector signal yield.</p>
<p>The detector signal yield, Y_s(x_s,p_s), is defined as the expected mean
number of signal events detected by the detector from a given source at
position x_s with flux fit parameters p_s.</p>
<p>To construct a detector signal yield object, four ingredients are
needed: the dataset holding the monte-carlo data events, a signal flux
model, the live time, and an implementation method that knows howto contruct
the actual detector yield in an efficient way.
In general, the implementation method depends on the detector, the source,
the flux model with its flux model’s signal parameters, and the dataset.
Hence, for a given detector, source, flux model, and dataset, an appropriate
implementation method needs to be chosen.</p>
<p>Constructs a new detector signal yield object. It takes
the monte-carlo data events, a flux model of the signal, and the live
time to compute the detector signal yield.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>implmethod</strong> (<em>instance of DetSigYieldImplMethod</em>) – The implementation method to use for constructing and receiving
the detector signal yield. The appropriate method depends on
the used flux model.</p></li>
<li><p><strong>dataset</strong> (<em>Dataset instance</em>) – The Dataset instance holding the monte-carlo event data.</p></li>
<li><p><strong>fluxmodel</strong> (<a class="reference internal" href="skyllh.physics.flux.html#skyllh.physics.flux.FluxModel" title="skyllh.physics.flux.FluxModel"><em>FluxModel</em></a>) – The flux model instance. Must be an instance of FluxModel.</p></li>
<li><p><strong>livetime</strong> (<em>float | Livetime</em>) – The live-time in days to use for the detector signal yield.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="skyllh.core.detsigyield.DetSigYield.implmethod">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">implmethod</span></code><a class="headerlink" href="#skyllh.core.detsigyield.DetSigYield.implmethod" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="skyllh.core.detsigyield.DetSigYield.dataset">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">dataset</span></code><a class="headerlink" href="#skyllh.core.detsigyield.DetSigYield.dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>The Dataset instance, for which this detector signal yield is made
for.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.detsigyield.DetSigYield.fluxmodel">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">fluxmodel</span></code><a class="headerlink" href="#skyllh.core.detsigyield.DetSigYield.fluxmodel" title="Permalink to this definition">¶</a></dt>
<dd><p>The flux model, which should be used to calculate the detector
signal yield.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.detsigyield.DetSigYield.livetime">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">livetime</span></code><a class="headerlink" href="#skyllh.core.detsigyield.DetSigYield.livetime" title="Permalink to this definition">¶</a></dt>
<dd><p>The live-time in days.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.detsigyield.DetSigYield.n_fitparams">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">n_fitparams</span></code><a class="headerlink" href="#skyllh.core.detsigyield.DetSigYield.n_fitparams" title="Permalink to this definition">¶</a></dt>
<dd><p>(read-only) The number of fit parameters this detector signal yield
depends on.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.detsigyield.DetSigYield.fitparam_names">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">fitparam_names</span></code><a class="headerlink" href="#skyllh.core.detsigyield.DetSigYield.fitparam_names" title="Permalink to this definition">¶</a></dt>
<dd><p>(read-only) The list of fit parameter names this detector signal
yield depends on.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.detsigyield.DetSigYield.source_to_array">
<code class="sig-name descname"><span class="pre">source_to_array</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.detsigyield.DetSigYield.source_to_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts the (sequence of) source(s) into a numpy record array needed
for the __call__ method. This convertion is intrinsic to the
implementation method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>source</strong> (<em>SourceModel | sequence of SourceModel</em>) – The source model containing the spatial information of the source.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>arr</strong> (<em>numpy record ndarray</em>) – The generated numpy record ndarray holding the spatial information
for each source.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="skyllh.core.detsigyield.DetSigYieldImplMethod">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">skyllh.core.detsigyield.</span></code><code class="sig-name descname"><span class="pre">DetSigYieldImplMethod</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.detsigyield.DetSigYieldImplMethod" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Abstract base class for an implementation method of a detector signal
yield. Via the <code class="docutils literal notranslate"><span class="pre">construct_detsigyield</span></code> method it creates a DetSigYield
instance holding the internal objects to calculate the detector signal
yield.</p>
<dl class="py method">
<dt id="skyllh.core.detsigyield.DetSigYieldImplMethod.supported_sourcemodels">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">supported_sourcemodels</span></code><a class="headerlink" href="#skyllh.core.detsigyield.DetSigYieldImplMethod.supported_sourcemodels" title="Permalink to this definition">¶</a></dt>
<dd><p>The tuple with the SourceModel classes, which are supported by this
detector signal yield implementation method.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.detsigyield.DetSigYieldImplMethod.supported_fluxmodels">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">supported_fluxmodels</span></code><a class="headerlink" href="#skyllh.core.detsigyield.DetSigYieldImplMethod.supported_fluxmodels" title="Permalink to this definition">¶</a></dt>
<dd><p>The tuple with the FluxModel classes, which are supported by this
detector signal yield implementation method.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.detsigyield.DetSigYieldImplMethod.n_signal_fitparams">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">n_signal_fitparams</span></code><a class="headerlink" href="#skyllh.core.detsigyield.DetSigYieldImplMethod.n_signal_fitparams" title="Permalink to this definition">¶</a></dt>
<dd><p>(read-only) The number of signal fit parameters the detector signal
yield depends on.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.detsigyield.DetSigYieldImplMethod.signal_fitparam_names">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">signal_fitparam_names</span></code><a class="headerlink" href="#skyllh.core.detsigyield.DetSigYieldImplMethod.signal_fitparam_names" title="Permalink to this definition">¶</a></dt>
<dd><p>(read-only) The list of fit parameter names the detector signal
yield depends on. An empty list indicates that it does not depend
on any fit parameter.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.detsigyield.DetSigYieldImplMethod.supports_sourcemodel">
<code class="sig-name descname"><span class="pre">supports_sourcemodel</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sourcemodel</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.detsigyield.DetSigYieldImplMethod.supports_sourcemodel" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if the given source model is supported by this detected signal
yield implementation method.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.detsigyield.DetSigYieldImplMethod.supports_fluxmodel">
<code class="sig-name descname"><span class="pre">supports_fluxmodel</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fluxmodel</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.detsigyield.DetSigYieldImplMethod.supports_fluxmodel" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if the given flux model is supported by this detector signal
yield implementation method.</p>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.detsigyield.DetSigYieldImplMethod.construct_detsigyield">
<em class="property"><span class="pre">abstract</span> </em><code class="sig-name descname"><span class="pre">construct_detsigyield</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fluxmodel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">livetime</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.detsigyield.DetSigYieldImplMethod.construct_detsigyield" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract method to construct the DetSigYield instance.
This method must be called by the derived class method implementation
to ensure the compatibility check of the given flux model with the
supported flux models.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> (<a class="reference internal" href="skyllh.core.dataset.html#skyllh.core.dataset.Dataset" title="skyllh.core.dataset.Dataset"><em>Dataset</em></a>) – The Dataset instance holding possible dataset specific settings.</p></li>
<li><p><strong>data</strong> (<a class="reference internal" href="skyllh.core.dataset.html#skyllh.core.dataset.DatasetData" title="skyllh.core.dataset.DatasetData"><em>DatasetData</em></a>) – The DatasetData instance holding the monte-carlo event data.</p></li>
<li><p><strong>fluxmodel</strong> (<a class="reference internal" href="skyllh.physics.flux.html#skyllh.physics.flux.FluxModel" title="skyllh.physics.flux.FluxModel"><em>FluxModel</em></a>) – The flux model instance. Must be an instance of FluxModel.</p></li>
<li><p><strong>livetime</strong> (<em>float | Livetime</em>) – The live-time in days to use for the detector signal yield.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>detsigyield</strong> (<em>DetSigYield instance</em>) – An instance derived from DetSigYield.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="skyllh.core.detsigyield.DetSigYieldImplMethod.source_to_array">
<em class="property"><span class="pre">abstract</span> </em><code class="sig-name descname"><span class="pre">source_to_array</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.detsigyield.DetSigYieldImplMethod.source_to_array" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is supposed to convert a (list of) source model(s) into
a numpy record array that is understood by the implementation method.
This is for efficiency reasons only. This way the user code can
pre-convert the list of sources into a numpy record array and cache the
array.
The fields of the array are detector signal yield implementation
dependent, i.e. what kind of sources: point-like source, or extended
source for instance. Because the sources usually don’t change their
position in the sky, this has to be done only once.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>source</strong> (<em>SourceModel | sequence of SourceModel</em>) – The source model containing the spatial information of the source.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>arr</strong> (<em>numpy record ndarray</em>) – The generated numpy record ndarray holding the spatial information
for each source.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="skyllh.core.display.html" class="btn btn-neutral float-right" title="skyllh.core.display module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="skyllh.core.debugging.html" class="btn btn-neutral float-left" title="skyllh.core.debugging module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, The IceCube Collaboration, T. Kontrimas, M. Wolf.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>